{"version":3,"sources":["cli.ts"],"names":[],"mappings":";;;AAGA,yDAAwD;AACxD,6DAA4D;AAE5D,uBAAyB;AACzB,2BAA6B;AAC7B,8BAAgC;AAEhC,IAAM,cAAc,GAAG,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,EAAE,IAAI,SAAS,EAAE,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,YAAY,CAAC,CAAC;AAE9F,IAAI,aAAa,GAA2B;IACxC,QAAQ,EAAE;QACN,IAAI,EAAE,WAAW;QACjB,IAAI,EAAE,UAAU;QAChB,IAAI,EAAE,IAAI;KACb;IACD,QAAQ,EAAE,EAAE;CACf,CAAC;AAEF,IAAI,CAAC;IACD,IAAM,iBAAiB,GAAG,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,YAAY,CACnD,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,EAAE,EAAE,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,mBAAmB,CAAC,CAAkB,CAAC,CAAC;IACxF,aAAa,GAAG,qCAAiB,CAAC,0BAA0B,CAAC,iBAAiB,CAAC,CAAC;AACpF,CAAC;AAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACT,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;AACrB,CAAC;AAED,IAAM,QAAQ,GAAG,qCAAiB,CAAC,aAAa,CAAC,cAAc,EAAE,aAAa,CAAC,CAAC;AAChF,IAAM,MAAM,GAAG,yCAAmB,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAC;AAE1D,MAAM,CAAC,MAAM,CAAC,aAAa,CAAC,QAAQ,CAAC,IAAI,EAAE,aAAa,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC","file":"cli.js","sourcesContent":["#! /usr/bin/env node\n\nimport { IJSXServeConfiguration } from \"./IJSXServeConfiguration\";\nimport { JSXServeFileTools } from \"./JSXServeFileTools\";\nimport { JSXServeServerTools } from \"./JSXServeServerTools\";\n\nimport * as fs from \"fs\";\nimport * as path from \"path\";\nimport * as yaml from \"js-yaml\";\n\nconst _handlerFolder = path.join(process.cwd() || __dirname, process.argv[2] || \"./handlers\");\n\nlet configuration: IJSXServeConfiguration = { \n    defaults: {\n        host: \"127.0.0.1\",\n        mode: \"unstrict\",\n        port: 8080\n    },\n    handlers: []\n};\n\ntry {\n    const configurationFile = yaml.safeLoad(fs.readFileSync(\n        path.join(process.cwd(), process.argv[3] || \"./.serveconf.yaml\")) as any as string);\n    configuration = JSXServeFileTools.parseJSXServeConfiguration(configurationFile);\n} catch (e) {\n    console.error(e);\n}\n\nconst handlers = JSXServeFileTools.importViewDir(_handlerFolder, configuration);\nconst server = JSXServeServerTools.createServer(handlers);\n\nserver.listen(configuration.defaults.port, configuration.defaults.host);"],"sourceRoot":"/home/jakob/Dokumente/Entwicklung/github/jsx-serve/src"}